(this["webpackJsonpswasti-sw"]=this["webpackJsonpswasti-sw"]||[]).push([[0],{187:function(e,t,n){},201:function(e,t){},203:function(e,t){},339:function(e,t,n){"use strict";n.r(t);n(182);var c,a,r,i,o=n(0),s=n.n(o),l=n(26),u=n.n(l),j=(n(187),n(341)),b=n(347),d=n(32),f=n.n(d),O=n(177),p=n(53),x=n(19),h=n(45),v=n(46),m=n(161),g=n(175),y=n(349),w=n(350),S=n(162),k=n.n(S),C=n(163),z=n(164),E=n(180),M=n(176),A=n(78),F=function(e){Object(E.a)(n,e);var t=Object(M.a)(n);function n(e,c){var a;return Object(C.a)(this,n),(a=t.call(this,c)).recognizer=e,a}return Object(z.a)(n,[{key:"_write",value:function(e,t,n){var c=e.getChannelData(0);this.recognizer&&c.byteLength>0&&this.recognizer.acceptWaveform(e),n()}}]),n}(A.Duplex),D=new A.Writable({write:function(e,t,n){n()},objectMode:!0,decodeStrings:!1}),I=n(6),N=function(e){var t=e.recognizer,n=e.loading,r=e.ready,i=Object(o.useState)(!0),s=Object(x.a)(i,2),l=s[0],u=s[1],j=Object(o.useCallback)(Object(p.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=20;break}if(u(!0),c){e.next=17;break}return n=null,e.prev=4,e.next=7,navigator.mediaDevices.getUserMedia({video:!1,audio:{echoCancellation:!0,noiseSuppression:!0}});case 7:n=e.sent,(c=new k.a({objectMode:!0,bufferSize:1024})).setStream(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0);case 15:e.next=19;break;case 17:c.unpipe(a),c.pipe(D);case 19:a=new F(t,{objectMode:!0});case 20:case"end":return e.stop()}}),e,null,[[4,12]])}))),[t]);Object(o.useEffect)((function(){j()}),[t]),Object(o.useEffect)((function(){u(!0)}),[n]),Object(o.useEffect)((function(){var e,t,n,r;l?(null===(e=c)||void 0===e||e.unpipe(a),null===(t=c)||void 0===t||t.pipe(D)):(null===(n=c)||void 0===n||n.unpipe(D),null===(r=c)||void 0===r||r.pipe(a))}),[l]);return Object(I.jsx)(g.a,{icon:l?Object(I.jsx)(y.a,{}):Object(I.jsx)(w.a,{}),disabled:!r||n,onMouseUp:function(){u((function(e){return!e}))},children:"Speak"})},L=v.a.div(r||(r=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n"]))),W=(Object(v.a)(g.a)(i||(i=Object(h.a)(["\n  box-sizing: border-box;\n  margin-left: 0.5rem;\n"]))),[{name:"Indian English",path:"vosk-model-small-en-in-0.4.tar.gz"},{name:"English",path:"vosk-model-small-en-us-0.15.tar.gz"}]),Y=function(e){var t=e.onModelSelect,n=e.loading,c=Object(o.useState)(W[0].path),a=Object(x.a)(c,2),r=a[0];a[1];return Object(o.useEffect)((function(){t(r)}),[]),Object(I.jsx)(L,{children:Object(I.jsx)("span",{children:n?"Please wait while Loading":"Click on Speak to Start Speaking"})})},G=n(170),K=n.n(G),R=n(345),V=n(348),H=n(353),J=(n(343),function(e){return Object(I.jsx)(I.Fragment,{})}),P=n(346),T=n(342),U=n(344),B=function(e){var t=["january","february","march","april","may","june","july","august","september","october","november","december"],n=Object(o.useState)(1),c=Object(x.a)(n,2),a=c[0],r=c[1],i=function(e){r(e.target.value)},s=function(n,c){console.log(c||n),c&&(c=c.slice(0,3)+t[parseInt(c.slice(3,5))-1]+c.slice(5)),e.manualInp(c||n)};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(P.a.Group,{name:"radiogroup",defaultValue:a,children:[Object(I.jsx)(P.a,{value:1,onChange:i,children:"Date"}),Object(I.jsx)(P.a,{value:2,onChange:i,children:"CR Number"})]}),1===a?Object(I.jsx)(T.a,{onChange:s,format:"DD/MM/YYYY"}):Object(I.jsx)(U.a,{min:1905,max:2255,onChange:s})]})},_=(n(335),n(351)),q=n(352),Q=function(e){console.log(e.url);var t=function(e){var t=Object(o.useState)(new Audio(e)),n=Object(x.a)(t,1)[0],c=Object(o.useState)(!0),a=Object(x.a)(c,2),r=a[0],i=a[1];return Object(o.useEffect)((function(){r?n.play():n.pause(),n.currentTime=0}),[r]),Object(o.useEffect)((function(){return n.addEventListener("ended",(function(){return i(!1)})),function(){n.removeEventListener("ended",(function(){return i(!1)}))}}),[]),[r,function(){return i(!r)}]}(e.url),n=Object(x.a)(t,2),c=n[0],a=n[1];return Object(I.jsxs)("div",{children:[Object(I.jsx)(g.a,{type:c?"text":"default",shape:"circle",icon:c?Object(I.jsx)(_.a,{}):Object(I.jsx)(q.a,{}),onClick:a,size:"large"}),Object(I.jsx)("br",{}),Object(I.jsxs)("h2",{children:["Average velocity on ",e.date&&e.date.split("+").join(" ")," is"," ",e.vel?e.vel:"test"]})]})},X=R.a.Panel;var Z,$,ee,te,ne=function(e){var t=Object(o.useState)({}),n=Object(x.a)(t,2),c=n[0],a=n[1],r=Object(o.useState)(""),i=Object(x.a)(r,2),s=i[0],l=i[1],u=Object(o.useState)(!1),j=Object(x.a)(u,2),b=j[0],d=j[1];Object(o.useEffect)((function(){var t="";e.utterances.forEach((function(e){t=t+"+"+K()(e.text,{impliedHundreds:!0}).toString().split(" ").join("")})),console.log(t),l(t)}),[e,e.utterances]);var O=function(){var e=Object(p.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("https://spacewapi.herokuapp.com/avgvelocity/?text=".concat(s)),e.next=3,fetch("https://spacewapi.herokuapp.com/avgvelocity/?text=".concat(s));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log(n),a(n),d(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(V.b,{direction:"vertical",size:"middle",style:{display:"flex",textAlign:"center"},className:"panel",children:[Object(I.jsx)("h4",{children:"OR"}),Object(I.jsx)(R.a,{defaultActiveKey:["0"],children:Object(I.jsx)(X,{header:"Manual Input",children:Object(I.jsx)(B,{manualInp:function(e){console.log(e),e&&l(e.split("/").join("+"))}})},"1")}),Object(I.jsxs)(V.b,{size:"small",children:[Object(I.jsx)(g.a,{type:"primary",onClick:function(){return O()},children:"Get Graphs"}),Object(I.jsx)(g.a,{icon:Object(I.jsx)(H.a,{}),type:"primary",danger:!0,onClick:e.clearVoice,color:"#1E3388",children:"Clear"})]}),b&&Object(I.jsx)(Q,{date:c.date,vel:c.val,url:c.url}),Object(I.jsx)(J,{graphs:c})]})},ce=v.a.div(Z||(Z=Object(h.a)(["\n  max-width: 900px;\n  text-align: left;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  margin: auto;\n  justify-content: center;\n  background-color: rgb(255, 255, 255);\n  padding: 5%;\n"]))),ae=v.a.div($||($=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  margin: 1rem auto;\n"]))),re=v.a.div(ee||(ee=Object(h.a)(["\n  width: 100%;\n  margin: 1rem auto;\n  border: 1px solid #aaaaaa;\n  padding: 1rem;\n  resize: vertical;\n  overflow: auto;\n  \n"]))),ie=v.a.span(te||(te=Object(h.a)(["\n  color: ",";\n  white-space: normal;\n"])),(function(e){var t=e.confidence,n=Math.max(255*(1-t)-20,0);return"rgb(".concat(n,",").concat(n,",").concat(n,")")})),oe=function(){var e=Object(o.useState)([]),t=Object(x.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(""),r=Object(x.a)(a,2),i=r[0],s=r[1],l=Object(o.useState)(),u=Object(x.a)(l,2),j=u[0],b=u[1],d=Object(o.useState)(),h=Object(x.a)(d,2),v=h[0],g=h[1],y=Object(o.useState)(!1),w=Object(x.a)(y,2),S=w[0],k=w[1],C=Object(o.useState)(!1),z=Object(x.a)(C,2),E=z[0],M=z[1],A=function(){var e=Object(p.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),null===j||void 0===j||j.model.terminate(),e.next=4,Object(m.createModel)("/models/"+t);case 4:n=e.sent,b({model:n,path:t}),(a=new n.KaldiRecognizer(48e3)).setWords(!0),a.on("result",(function(e){var t=e.result;c((function(e){return[].concat(Object(O.a)(e),[t])}))})),a.on("partialresult",(function(e){s(e.result.partial)})),g((function(){return k(!1),M(!0),a}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)(ce,{children:[Object(I.jsx)(Y,{onModelChange:function(e){return M((null===j||void 0===j?void 0:j.path)===e)},onModelSelect:function(e){(null===j||void 0===j?void 0:j.path)!==e&&A(e)},loading:S}),Object(I.jsx)(ae,{children:Object(I.jsx)(N,{recognizer:v,loading:S,ready:E})}),Object(I.jsxs)(re,{children:[n.map((function(e,t){var n;return null===e||void 0===e||null===(n=e.result)||void 0===n?void 0:n.map((function(e,n){return Object(I.jsxs)(ie,{confidence:e.conf,title:"Confidence: ".concat((100*e.conf).toFixed(2),"%"),children:[e.word," "]},"".concat(t,"-").concat(n))}))})),Object(I.jsx)("span",{children:i},"partial")]}),Object(I.jsx)(ne,{utterances:n,clearVoice:function(){c((function(e){return[]}))}})]})},se=j.a.Header,le=j.a.Content,ue=j.a.Footer,je=function(e){return Object(I.jsxs)(j.a,{className:"layout",children:[Object(I.jsxs)(se,{children:[Object(I.jsxs)("div",{className:"logo",children:[" ",Object(I.jsx)("h1",{style:{color:"white"},children:"SWASTi Framework"})]}),Object(I.jsx)(b.a,{mode:"horizontal",defaultSelectedKeys:["2"],items:new Array(15).fill(null).map((function(e,t){var n=t+1;return{key:n,label:"nav ".concat(n)}}))})]}),Object(I.jsxs)(le,{style:{padding:"0 50px"},children:[Object(I.jsx)("p",{}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"site-layout-content",children:Object(I.jsx)(oe,{})})]}),Object(I.jsx)(ue,{style:{textAlign:"center"},children:"Footnote \xa92022 Footnote"})]})};u.a.render(Object(I.jsx)(s.a.StrictMode,{children:Object(I.jsx)(je,{})}),document.getElementById("root"))}},[[339,1,2]]]);
//# sourceMappingURL=main.1ed7e616.chunk.js.map