(this["webpackJsonpswasti-sw"]=this["webpackJsonpswasti-sw"]||[]).push([[0],{197:function(e,t,a){},211:function(e,t){},213:function(e,t){},350:function(e,t,a){"use strict";a.r(t);a(192);var n,c,r,s,i=a(0),o=a.n(i),l=a(37),j=a.n(l),u=(a(197),a(354)),d=a(356),b=a(40),p=a.n(b),h=a(28),O=a(61),f=a(19),x=a(66),g=a(68),v=a(177),m=a(87),y=a(369),S=a(370),w=a(178),k=a.n(w),C=a(14),F=a(15),z=a(21),M=a(20),E=a(97),D=function(e){Object(z.a)(a,e);var t=Object(M.a)(a);function a(e,n){var c;return Object(C.a)(this,a),(c=t.call(this,n)).recognizer=e,c}return Object(F.a)(a,[{key:"_write",value:function(e,t,a){var n=e.getChannelData(0);this.recognizer&&n.byteLength>0&&this.recognizer.acceptWaveform(e),a()}}]),a}(E.Duplex),A=new E.Writable({write:function(e,t,a){a()},objectMode:!0,decodeStrings:!1}),T=a(6),G=function(e){var t=e.recognizer,a=e.loading,r=e.ready,s=Object(i.useState)(!0),o=Object(f.a)(s,2),l=o[0],j=o[1],u=Object(i.useCallback)(Object(O.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=20;break}if(j(!0),n){e.next=17;break}return a=null,e.prev=4,e.next=7,navigator.mediaDevices.getUserMedia({video:!1,audio:{echoCancellation:!0,noiseSuppression:!0}});case 7:a=e.sent,(n=new k.a({objectMode:!0,bufferSize:1024})).setStream(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0);case 15:e.next=19;break;case 17:n.unpipe(c),n.pipe(A);case 19:c=new D(t,{objectMode:!0});case 20:case"end":return e.stop()}}),e,null,[[4,12]])}))),[t]);Object(i.useEffect)((function(){u()}),[t]),Object(i.useEffect)((function(){j(!0)}),[a]),Object(i.useEffect)((function(){var e,t,a,r;l?(null===(e=n)||void 0===e||e.unpipe(c),null===(t=n)||void 0===t||t.pipe(A)):(null===(a=n)||void 0===a||a.unpipe(A),null===(r=n)||void 0===r||r.pipe(c))}),[l]);return Object(T.jsx)(m.a,{icon:l?Object(T.jsx)(y.a,{}):Object(T.jsx)(S.a,{}),disabled:!r||a,onMouseUp:function(){j((function(e){return!e}))},children:"Speak"})},N=g.a.div(r||(r=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n"]))),P=(Object(g.a)(m.a)(s||(s=Object(x.a)(["\n  box-sizing: border-box;\n  margin-left: 0.5rem;\n"]))),[{name:"Indian English",path:"vosk-model-small-en-in-0.4.tar.gz"},{name:"English",path:"vosk-model-small-en-us-0.15.tar.gz"}]),W=function(e){var t=e.onModelSelect,a=e.loading,n=Object(i.useState)(P[0].path),c=Object(f.a)(n,2),r=c[0];c[1];return Object(i.useEffect)((function(){t(r)}),[]),Object(T.jsx)(N,{children:Object(T.jsx)("span",{children:a?"Please wait while Loading":"Click on Speak to Start Speaking"})})},B=a(184),I=a.n(B),K=a(359),L=a(366),R=a(374),H=a(353),J=a(362),V=a(364),Y=a(360),_=a(357),U=a(373),q=a(117),Q=a(367),X=a(368),Z=a(33),$=a(190);a(349);Z.c.register.apply(Z.c,Object(h.a)(Z.k));var ee=function(e){Object(i.useRef)();var t=Object(i.useState)({}),a=Object(f.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)({}),s=Object(f.a)(r,2),o=s[0],l=s[1];Object(i.useEffect)((function(){c(e.data),l(e.data2)}),[e.data,e.data2]);var j={labels:["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"],datasets:[{type:e.type,fill:"start",backgroundColor:function(e,t){var a=e.chart.ctx.createLinearGradient(0,0,0,380);return a.addColorStop(0,"rgba(210, 43, 43,1)"),a.addColorStop(1,"rgba(0, 150, 255,0.5)"),a},borderRadius:20,strokeColor:"#ff6c23",pointColor:"#f0f000",pointStrokeColor:"#f06c23",pointHighlightFill:"#fff000",pointHighlightStroke:"#0f6c23",data:n},{type:"line",label:"Calculated",borderColor:"rgba(0, 0, 0,0.5)",fill:!1,data:o}]},u={responsive:!0,plugins:{legend:{display:!1}},scales:{y:{min:{temp:0,vel:200,dens:0}[e.label],max:{temp:5e5,vel:800,dens:8}[e.label],title:{display:!0,text:e.title},ticks:{callback:function(e,t){return e>1e4?"".concat(e/1e5):e}}},x:{title:{display:!0,text:"Hours of the Day"}}},datasetStrokeWidth:3,pointDotStrokeWidth:4,tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontStyle:"bold",tooltipTemplate:"<%if (label){%><%=label + ' hod' %>: <%}%><%= value + '\xb0C' %>",scaleLabel:"<%= Number(value).toFixed(0).replace('.', ',') + '\xb0C'%>"};return Object(T.jsx)(T.Fragment,{children:e.type&&Object(T.jsx)($.a,{type:e.type,options:u,data:j,datasetIdKey:"id"})})},te=(a(278),a(371)),ae=a(372),ne=function(e){var t=function(e){var t=Object(i.useState)(new Audio(e)),a=Object(f.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)(!0),s=Object(f.a)(r,2),o=s[0],l=s[1];return Object(i.useEffect)((function(){c(new Audio(e)),l(!0)}),[e]),Object(i.useEffect)((function(){o?n.play():n.pause(),n.currentTime=0}),[o]),Object(i.useEffect)((function(){return n.addEventListener("ended",(function(){return l(!1)})),function(){n.removeEventListener("ended",(function(){return l(!1)}))}}),[n]),[o,function(){return l(!o)}]}(e.url),a=Object(f.a)(t,2),n=a[0],c=a[1];return Object(i.useEffect)((function(){c()}),[]),Object(T.jsxs)("div",{children:[Object(T.jsx)(m.a,{type:n?"text":"default",shape:"circle",icon:n?Object(T.jsx)(te.a,{}):Object(T.jsx)(ae.a,{}),onClick:c,size:"large"}),Object(T.jsx)("br",{}),Object(T.jsxs)("h2",{children:["Average velocity on"," ",e.date?e.date.split("+").join(" "):"NaN"," is"," ",e.vel?e.vel:"NaN"]})]})},ce=Object(T.jsx)(m.a,{icon:Object(T.jsx)(U.a,{}),size:"small",children:"Chart Settings"}),re=function(e){return console.log(Object.keys(e.graphdata).length),Object(T.jsxs)(i.Fragment,{children:[Object(T.jsx)(H.a,{orientation:"left",children:"Weather Alerts"}),Object(T.jsxs)(J.a,{children:[Object(T.jsx)(V.a,{span:12,children:Object(T.jsxs)("div",{color:"moderate",style:{backgroundColor:"#f6f6f6",borderRadius:"50px",padding:"0.9rem",paddingTop:"1.1rem",paddingRight:"0rem",margin:"0.9rem"},children:[Object(T.jsxs)(J.a,{children:[" ",Object(T.jsxs)(V.a,{span:8,children:[e.graphs.val&&Object(T.jsx)(i.Fragment,{children:parseFloat(e.graphs.val.split("k"))>600?Object(T.jsx)(Y.a,{style:{backgroundColor:"#880808"},count:"severe",children:Object(T.jsx)(q.a,{style:{color:"#DC143C",fontSize:"3rem"}})}):parseFloat(e.graphs.val.split("k"))>400?Object(T.jsx)(Y.a,{style:{backgroundColor:"#FFBF00"},count:"alert",children:Object(T.jsx)(Q.a,{style:{color:"#E49B0F",fontSize:"3rem"}})}):Object(T.jsx)(Y.a,{style:{backgroundColor:"#4CBB17"},count:"safe",children:Object(T.jsx)(X.a,{style:{color:"#097969",fontSize:"3rem"}})})}),Object(T.jsx)("p",{})]}),Object(T.jsxs)(V.a,{span:10,style:{textAlign:"left"},children:["Temperature:"," ",Object(T.jsxs)("b",{children:[Math.round(e.graphs.avg_temp/1e4)/100," MK "]}),Object(T.jsx)("br",{})," Density:"," ",Object(T.jsxs)("b",{children:[Math.round(100*e.graphs.avg_den)/100," n/cc"]}),Object(T.jsx)("br",{})," Speed: ",Object(T.jsx)("b",{children:e.graphs.val})]})," "]})," "]})}),Object(T.jsx)(V.a,{span:12,children:e.show&&Object(T.jsx)(ne,{date:e.graphs.date,vel:e.graphs.val,url:e.graphs.url})})]}),0!==Object.keys(e.graphdata).length&&Object(T.jsxs)(_.a,{tabBarExtraContent:ce,defaultActiveKey:"1",children:[Object(T.jsx)(_.a.TabPane,{tab:"Temperature",children:Object(T.jsx)(ee,{type:"bar",data:e.graphdata.temp,title:"Temperature (MK)",label:"temp"})},"1"),Object(T.jsx)(_.a.TabPane,{tab:"Velocity",children:Object(T.jsx)(ee,{type:"line",data:e.graphdata.velocity,data2:e.graphdata.calcvel,title:"Wind Speed (km/s)",label:"vel"})},"2"),Object(T.jsx)(_.a.TabPane,{tab:"Density",children:Object(T.jsx)(ee,{type:"line",data:e.graphdata.density,title:"Density (n/cc)",label:"dens"})},"3")]})]})};re.defaultProps={graphdata:{temp:[256031,254548,301362,213076,202391,188560,182158,140751,138451,125780,123067,120155,105004,9999999,63296,66112,104670,139632,135436,124822,99517,89187,76672,76558,65430,70923,62905,112596,450530,263192,426853,434324,154341,173847,172816,56683,121476,134847,243691,265442,315931,305047,283811,270334,383326,372681,407739,393890]},graphs:{val:"509.33km/s"}};var se=re,ie=a(361),oe=a(355),le=a(358),je=a(365),ue=a(363),de=[{label:"Flow Speed",value:"velocity"},{label:"Proton Temperature",value:"temp"},{label:"Proton Density",value:"density"}],be=function(e){var t=["january","february","march","april","may","june","july","august","september","october","november","december"],a=function(){e.setShowGraphs(!e.showGraphs)},n=Object(i.useState)(1),c=Object(f.a)(n,2),r=c[0],s=c[1],o=function(a,n){console.log(n||a),n&&(n=n.slice(0,3)+t[parseInt(n.slice(3,5))-1]+n.slice(5)),e.manualInp(n||a)};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ie.a.Group,{name:"radiogroup",defaultValue:r,children:Object(T.jsx)(ie.a,{value:1,onChange:function(e){s(e.target.value)},children:"Date"})}),1===r?Object(T.jsx)(oe.a,{onChange:o,format:"DD/MM/YYYY"}):Object(T.jsx)(le.a,{min:1905,max:2255,onChange:o}),Object(T.jsx)(H.a,{orientation:"center",children:"Select Plasma Properties"}),Object(T.jsx)(je.a,{defaultChecked:!0,onChange:a,value:e.setShowGraphs})," ","Show Graphs",Object(T.jsx)(ue.a.Group,{options:de,defaultValue:["velocity","temp","density"],onChange:a}),Object(T.jsx)("br",{})]})},pe=K.a.Panel;var he,Oe,fe,xe=function(e){var t=Object(i.useState)({}),a=Object(f.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)({}),s=Object(f.a)(r,2),o=s[0],l=s[1],j=Object(i.useState)(""),u=Object(f.a)(j,2),d=u[0],b=u[1],h=Object(i.useState)(!1),x=Object(f.a)(h,2),g=x[0],v=x[1],y=Object(i.useState)(!0),S=Object(f.a)(y,2),w=S[0],k=S[1];Object(i.useEffect)((function(){var t="";e.utterances.forEach((function(e){t=t+"+"+I()(e.text,{impliedHundreds:!0}).toString().split(" ").join("")})),console.log(t),b(t)}),[e,e.utterances]);var C="swasti-framework.azurewebsites.net",F=function(){var e=Object(O.a)(p.a.mark((function e(){var t,a,n,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(C,"/avgvelocity/?text=").concat(d),e.next=3,fetch("https://"+t);case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,c(n),v(!0),!w){e.next=18;break}return e.next=12,fetch("https://".concat(C,"/get_obs?param=").concat(d));case 12:return r=e.sent,e.next=15,r.json();case 15:s=e.sent,console.log(s),l(s);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(L.b,{direction:"vertical",size:"middle",style:{display:"flex",textAlign:"center"},className:"panel",children:[Object(T.jsx)("h4",{children:"OR"}),Object(T.jsx)(K.a,{defaultActiveKey:["0"],children:Object(T.jsx)(pe,{header:"Manual Input",children:Object(T.jsx)(be,{manualInp:function(e){e&&b(e.split("/").join("+"))},showGraphs:w,setShowGraphs:k})},"1")}),Object(T.jsxs)(L.b,{size:"small",children:[Object(T.jsx)(m.a,{type:"primary",onClick:function(){return F()},children:"Get Graphs"}),Object(T.jsx)(m.a,{icon:Object(T.jsx)(R.a,{}),type:"primary",danger:!0,onClick:e.clearVoice,color:"#1E3388",children:"Clear"})]}),Object(T.jsx)(se,{graphs:n,show:g,graphdata:o})]})},ge=g.a.div(he||(he=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  margin: 1rem auto;\n"]))),ve=g.a.div(Oe||(Oe=Object(x.a)(["\n  width: 100%;\n  margin: 1rem auto;\n  border: 1px solid #aaaaaa;\n  padding: 1rem;\n  resize: vertical;\n  overflow: auto;\n  \n"]))),me=g.a.span(fe||(fe=Object(x.a)(["\n  color: ",";\n  white-space: normal;\n"])),(function(e){var t=e.confidence,a=Math.max(255*(1-t)-20,0);return"rgb(".concat(a,",").concat(a,",").concat(a,")")})),ye=function(){var e=Object(i.useState)([]),t=Object(f.a)(e,2),a=t[0],n=t[1],c=Object(i.useState)(""),r=Object(f.a)(c,2),s=r[0],o=r[1],l=Object(i.useState)(),j=Object(f.a)(l,2),u=j[0],d=j[1],b=Object(i.useState)(),x=Object(f.a)(b,2),g=x[0],m=x[1],y=Object(i.useState)(!1),S=Object(f.a)(y,2),w=S[0],k=S[1],C=Object(i.useState)(!1),F=Object(f.a)(C,2),z=F[0],M=F[1],E=function(){var e=Object(O.a)(p.a.mark((function e(t){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),null===u||void 0===u||u.model.terminate(),e.next=4,Object(v.createModel)("/models/"+t);case 4:a=e.sent,d({model:a,path:t}),(c=new a.KaldiRecognizer(48e3)).setWords(!0),c.on("result",(function(e){var t=e.result;n((function(e){return[].concat(Object(h.a)(e),[t])}))})),c.on("partialresult",(function(e){o(e.result.partial)})),m((function(){return k(!1),M(!0),c}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(i.Fragment,{children:[Object(T.jsx)(W,{onModelChange:function(e){return M((null===u||void 0===u?void 0:u.path)===e)},onModelSelect:function(e){(null===u||void 0===u?void 0:u.path)!==e&&E(e)},loading:w}),Object(T.jsx)(ge,{children:Object(T.jsx)(G,{recognizer:g,loading:w,ready:z})}),Object(T.jsxs)(ve,{children:[a.map((function(e,t){var a;return null===e||void 0===e||null===(a=e.result)||void 0===a?void 0:a.map((function(e,a){return Object(T.jsxs)(me,{confidence:e.conf,title:"Confidence: ".concat((100*e.conf).toFixed(2),"%"),children:[e.word," "]},"".concat(t,"-").concat(a))}))})),Object(T.jsx)("span",{children:s},"partial")]}),Object(T.jsx)(xe,{utterances:a,clearVoice:function(){n((function(e){return[]}))}})]})},Se=(u.a.Header,u.a.Content),we=u.a.Footer,ke=function(e){var t=new Date,a=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]+"  "+t.getDay()+", "+t.getFullYear();return Object(T.jsxs)(u.a,{className:"layout",children:[Object(T.jsx)(d.a,{ghost:!1,className:"site-page-header",title:Object(T.jsxs)("span",{children:[Object(T.jsxs)("span",{style:{fontSize:"25px",color:"white",paddingBottom:"0",marginBottom:"0"},children:["SWASTi Framework"," "]}),Object(T.jsx)("span",{style:{color:"#d9d9d9",fontSize:"15px"},children:"for space weather prediction"})]}),extra:[Object(T.jsxs)("div",{style:{textAlign:"right",color:"white",padding:"0px",margin:"0px"},children:[Object(T.jsx)("span",{style:{fontSize:"20px"},children:["Sunday","Monday","Tuesday","Wednesday","Thursdsay","Friday","Saturday"][t.getDay()]}),Object(T.jsx)("h5",{style:{color:"white"},children:a})]})]}),Object(T.jsx)(u.a,{children:Object(T.jsxs)(Se,{style:{padding:"0 50px"},children:[Object(T.jsx)("br",{}),Object(T.jsx)("div",{className:"site-layout-content",children:Object(T.jsx)(ye,{})})]})}),Object(T.jsx)(we,{style:{textAlign:"center"},children:"Footnote \xa92022 Footnote"})]})};j.a.render(Object(T.jsx)(o.a.StrictMode,{children:Object(T.jsx)(ke,{})}),document.getElementById("root"))}},[[350,1,2]]]);
//# sourceMappingURL=main.185cef27.chunk.js.map