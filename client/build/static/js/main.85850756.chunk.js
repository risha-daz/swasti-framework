(this["webpackJsonpswasti-sw"]=this["webpackJsonpswasti-sw"]||[]).push([[0],{221:function(e,t,a){},235:function(e,t){},237:function(e,t){},376:function(e,t,a){"use strict";a.r(t);a(216);var n,c,r,s,i=a(0),o=a(28),l=a.n(o),j=(a(221),a(380)),d=a(382),u=a(43),b=a.n(u),p=a(33),h=a(72),O=a(21),x=a(79),f=a(81),g=a(200),m=a(46),v=a(393),y=a(394),S=a(201),C=a.n(S),k=a(16),w=a(17),F=a(25),z=a(24),M=a(112),D=function(e){Object(F.a)(a,e);var t=Object(z.a)(a);function a(e,n){var c;return Object(k.a)(this,a),(c=t.call(this,n)).recognizer=e,c}return Object(w.a)(a,[{key:"_write",value:function(e,t,a){var n=e.getChannelData(0);this.recognizer&&n.byteLength>0&&this.recognizer.acceptWaveform(e),a()}}]),a}(M.Duplex),E=new M.Writable({write:function(e,t,a){a()},objectMode:!0,decodeStrings:!1}),T=a(6),A=function(e){var t=e.recognizer,a=e.loading,r=e.ready,s=Object(i.useState)(!0),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(i.useCallback)(Object(h.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=20;break}if(j(!0),n){e.next=17;break}return a=null,e.prev=4,e.next=7,navigator.mediaDevices.getUserMedia({video:!1,audio:{echoCancellation:!0,noiseSuppression:!0}});case 7:a=e.sent,(n=new C.a({objectMode:!0,bufferSize:1024})).setStream(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0);case 15:e.next=19;break;case 17:n.unpipe(c),n.pipe(E);case 19:c=new D(t,{objectMode:!0});case 20:case"end":return e.stop()}}),e,null,[[4,12]])}))),[t]);Object(i.useEffect)((function(){d()}),[t]),Object(i.useEffect)((function(){j(!0)}),[a]),Object(i.useEffect)((function(){var e,t,a,r;l?(null===(e=n)||void 0===e||e.unpipe(c),null===(t=n)||void 0===t||t.pipe(E)):(null===(a=n)||void 0===a||a.unpipe(E),null===(r=n)||void 0===r||r.pipe(c))}),[l]);return Object(T.jsx)(m.a,{icon:l?Object(T.jsx)(v.a,{}):Object(T.jsx)(y.a,{}),disabled:!r||a,onMouseUp:function(){j((function(e){return!e}))},children:"Speak"})},W=f.a.div(r||(r=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n"]))),G=(Object(f.a)(m.a)(s||(s=Object(x.a)(["\n  box-sizing: border-box;\n  margin-left: 0.5rem;\n"]))),[{name:"Indian English",path:"vosk-model-small-en-in-0.4.tar.gz"},{name:"English",path:"vosk-model-small-en-us-0.15.tar.gz"}]),P=function(e){var t=e.onModelSelect,a=e.loading,n=Object(i.useState)(G[0].path),c=Object(O.a)(n,2),r=c[0];c[1];return Object(i.useEffect)((function(){t(r)}),[]),Object(T.jsx)(W,{children:Object(T.jsx)("span",{children:a?"Please wait while Loading":"Click on Speak to Start Speaking"})})},N=a(205),B=a.n(N),I=a(386),V=a(392),R=a(398),K=a(379),L=a(102),_=a(48),H=a(387),J=a(165),Y=a(97),U=a(389),q=a(212),Q=a(99),X=a(213),Z=a(214),$=(U.a.Meta,function(e){return Object(T.jsx)(_.a,{span:e.ind?4:3,children:Object(T.jsx)("div",{onClick:function(){e.setCurr(e.num)},children:Object(T.jsx)(U.a,{hoverable:"true",size:e.ind?"default":"small",title:e.data[0].substr(5,6),children:Object(T.jsxs)("h1",{children:[e.data[2]&&Object(T.jsx)(i.Fragment,{children:parseFloat(e.data[2])>600?Object(T.jsx)(Q.a,{style:{color:"#DC143C",fontSize:e.ind?"2.5rem":"2rem"}}):parseFloat(e.data[2])>400?Object(T.jsx)(X.a,{style:{color:"#E49B0F",fontSize:e.ind?"2.5rem":"2rem"}}):Object(T.jsx)(Z.a,{style:{color:"#097969",fontSize:e.ind?"2.5rem":"2rem"}})}),Object(T.jsxs)(q.a,{color:"blue",children:[Math.round(e.data[1]/1e4)/100," MK"]}),Object(T.jsxs)(q.a,{color:"cyan",children:[Math.round(e.data[2])," km/s"]}),Object(T.jsxs)(q.a,{color:"purple",children:[e.data[3]," n/cc"]})]})})})})}),ee=a(383),te=a(384),ae=a(395),ne=function(){var e=Object(i.useState)(!1),t=Object(O.a)(e,2),a=t[0],n=t[1],c=function(e){console.log("onChange: ",e)},r=function(e){console.log("onAfterChange: ",e)};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(m.a,{icon:Object(T.jsx)(ae.a,{}),onClick:function(){n(!0)},size:"small",children:"Chart Settings"}),Object(T.jsxs)(ee.a,{title:"Chart Settings",visible:a,onOk:function(){n(!1)},onCancel:function(){n(!1)},children:["Temperature range:",Object(T.jsx)(te.a,{step:1,min:0,max:10,defaultValue:6,onChange:c,onAfterChange:r}),"Velocity Range:",Object(T.jsx)(te.a,{range:!0,min:0,max:1e3,step:100,defaultValue:[200,800],onChange:c,onAfterChange:r}),"Density Range:",Object(T.jsx)(te.a,{range:!0,step:1,min:0,max:14,defaultValue:[0,10],onChange:c,onAfterChange:r})]})]})},ce=a(142),re=a(167),se=a(78),ie=a(37),oe=a(211);a(375);ie.c.register.apply(ie.c,Object(p.a)(ie.k));var le=function(e){Object(i.useRef)();var t=Object(i.useState)({}),a=Object(O.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)({}),s=Object(O.a)(r,2),o=s[0],l=s[1];Object(i.useEffect)((function(){c(e.data),l(e.data2)}),[e.data,e.data2]);var j={labels:["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"],datasets:[{type:e.type,fill:"start",backgroundColor:"dst"===e.label?"rgba(211, 211, 211,0.5)":function(e,t){var a=e.chart.ctx.createLinearGradient(0,0,0,380);return a.addColorStop(0,"rgba(210, 43, 43,1)"),a.addColorStop(1,"rgba(0, 150, 255,0.5)"),a},borderRadius:20,strokeColor:"#ff6c23",pointColor:"#f0f000",pointStrokeColor:"#f06c23",pointHighlightFill:"#fff000",pointHighlightStroke:"#0f6c23",data:n},{type:"line",label:"Calculated",borderColor:"rgba(0, 0, 0,0.5)",fill:!1,data:o}]},d={responsive:!0,plugins:{legend:{display:!1}},scales:{y:{min:{temp:0,vel:200,dens:0,dst:-10}[e.label],max:{temp:6e5,vel:800,dens:10,dst:10}[e.label],title:{display:!0,text:e.title},ticks:{callback:function(e,t){return e>1e4?"".concat(e/1e5):e}}},x:{title:{display:!0,text:"Hours of the Day"}}},datasetStrokeWidth:3,pointDotStrokeWidth:4,tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontStyle:"bold",tooltipTemplate:"<%if (label){%><%=label + ' hod' %>: <%}%><%= value + '\xb0C' %>",scaleLabel:"<%= Number(value).toFixed(0).replace('.', ',') + '\xb0C'%>"};return Object(T.jsx)(T.Fragment,{children:e.type&&Object(T.jsx)(oe.a,{type:e.type,options:d,data:j,datasetIdKey:"id"})})},je=(a(371),a(396)),de=a(397),ue=function(e){var t=function(e){var t=Object(i.useState)(new Audio(e)),a=Object(O.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)(!0),s=Object(O.a)(r,2),o=s[0],l=s[1];return Object(i.useEffect)((function(){c(new Audio(e)),l(!0)}),[e]),Object(i.useEffect)((function(){o?n.play():n.pause(),n.currentTime=0}),[o]),Object(i.useEffect)((function(){return n.addEventListener("ended",(function(){return l(!1)})),function(){n.removeEventListener("ended",(function(){return l(!1)}))}}),[n]),[o,function(){return l(!o)}]}(e.url),a=Object(O.a)(t,2),n=a[0],c=a[1];return Object(i.useEffect)((function(){c()}),[]),Object(T.jsxs)("div",{children:[Object(T.jsx)(m.a,{type:n?"text":"default",shape:"circle",icon:n?Object(T.jsx)(je.a,{}):Object(T.jsx)(de.a,{}),onClick:c,size:"large"}),Object(T.jsx)("br",{}),Object(T.jsxs)("h2",{children:["Average velocity on"," ",e.date?e.date.split("+").join(" "):"NaN"," is"," ",e.vel?e.vel:"NaN"]})]})},be=Object(T.jsx)(ne,{}),pe=function(e){return Object(T.jsxs)(i.Fragment,{children:[Object(T.jsx)(K.a,{orientation:"left",children:"Weather Alerts"}),Object(T.jsxs)(L.a,{children:[Object(T.jsx)(_.a,{span:12,children:Object(T.jsxs)("div",{color:"moderate",style:{backgroundColor:"#f6f6f6",borderRadius:"50px",padding:"0.9rem",paddingTop:"1.1rem",paddingRight:"0rem",margin:"0.9rem"},children:[Object(T.jsxs)(L.a,{children:[" ",Object(T.jsxs)(_.a,{span:8,children:[e.graphs.val&&Object(T.jsx)(i.Fragment,{children:parseFloat(e.graphs.val.split("k"))>600?Object(T.jsx)(H.a,{style:{backgroundColor:"#880808"},count:"severe",children:Object(T.jsx)(Q.a,{style:{color:"#DC143C",fontSize:"3rem"}})}):parseFloat(e.graphs.val.split("k"))>400?Object(T.jsx)(H.a,{style:{backgroundColor:"#FFBF00"},count:"alert",children:Object(T.jsx)(X.a,{style:{color:"#E49B0F",fontSize:"3rem"}})}):Object(T.jsx)(H.a,{style:{backgroundColor:"#4CBB17"},count:"safe",children:Object(T.jsx)(Z.a,{style:{color:"#097969",fontSize:"3rem"}})})}),Object(T.jsx)("p",{})]}),Object(T.jsxs)(_.a,{span:10,style:{textAlign:"left"},children:["Temperature:"," ",Object(T.jsxs)("b",{children:[Math.round(e.graphs.avg_temp/1e4)/100," MK "]}),Object(T.jsx)("br",{})," Density:"," ",Object(T.jsxs)("b",{children:[Math.round(100*e.graphs.avg_den)/100," n/cc"]}),Object(T.jsx)("br",{})," Speed: ",Object(T.jsx)("b",{children:e.graphs.val})]})," "]})," "]})}),Object(T.jsx)(_.a,{span:12,children:e.show&&Object(T.jsx)(ue,{date:e.graphs.date,vel:e.graphs.val,url:e.graphs.url})})]}),0!==Object.keys(e.graphdata).length&&Object(T.jsxs)(J.a,{tabBarExtraContent:be,defaultActiveKey:"1",children:[Object(T.jsx)(J.a.TabPane,{tab:"Temperature",children:Object(T.jsx)(le,{type:"bar",data:e.graphdata.temp,title:"Temperature (MK)",label:"temp"})},"1"),Object(T.jsx)(J.a.TabPane,{tab:"Velocity",children:Object(T.jsx)(le,{type:"line",data:e.graphdata.velocity,data2:e.graphdata.calcvel,title:"Wind Speed (km/s)",label:"vel"})},"2"),Object(T.jsx)(J.a.TabPane,{tab:"Density",children:Object(T.jsx)(le,{type:"line",data:e.graphdata.density,title:"Density (n/cc)",label:"dens"})},"3"),Object(T.jsx)(J.a.TabPane,{tab:Object(T.jsxs)("span",{children:["Dst Index",Object(T.jsxs)(Y.a,{placement:"rightTop",title:"Sudden changes in Dst Index indicate unfavourable conditions",children:[" ",Object(T.jsx)(m.a,{type:"text",icon:Object(T.jsx)(ce.a,{}),size:"small"})]})]}),children:Object(T.jsx)(le,{type:"line",data:e.graphdata.dst,data2:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],title:"Density (nT)",label:"dst"})},"4")]}),Object(T.jsx)(K.a,{orientation:"left",children:"This Week"}),Object(T.jsxs)(L.a,{justify:"center",gutter:8,align:"middle",children:[Object(T.jsx)(_.a,{span:1,children:Object(T.jsx)(Y.a,{title:"Previous Week",children:Object(T.jsx)(m.a,{type:"text",shape:"circle",icon:Object(T.jsx)(re.a,{})})})}),e.weekly&&e.weekly.map((function(t,a){return Object(T.jsx)($,{data:t,ind:a===e.curr,num:a,setCurr:e.setCurr},a)})),Object(T.jsx)(_.a,{span:1,children:Object(T.jsx)(Y.a,{title:"Next Week",children:Object(T.jsx)(m.a,{type:"text",shape:"circle",icon:Object(T.jsx)(se.a,{})})})})]})]})};pe.defaultProps={graphdata:{temp:[256031,254548,301362,213076,202391,188560,182158,140751,138451,125780,123067,120155,105004,9999999,63296,66112,104670,139632,135436,124822,99517,89187,76672,76558,65430,70923,62905,112596,450530,263192,426853,434324,154341,173847,172816,56683,121476,134847,243691,265442,315931,305047,283811,270334,383326,372681,407739,393890]},graphs:{val:"509.33km/s"}};var he=pe,Oe=a(388),xe=a(381),fe=a(385),ge=a(391),me=a(390),ve=[{label:"Flow Speed",value:"velocity"},{label:"Proton Temperature",value:"temp"},{label:"Proton Density",value:"density"}],ye=function(e){var t=["january","february","march","april","may","june","july","august","september","october","november","december"],a=function(){e.setShowGraphs(!e.showGraphs)},n=Object(i.useState)(1),c=Object(O.a)(n,2),r=c[0],s=c[1],o=function(a,n){console.log(n||a),n&&(n=n.slice(0,3)+t[parseInt(n.slice(3,5))-1]+n.slice(5)),e.manualInp(n||a)};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Oe.a.Group,{name:"radiogroup",defaultValue:r,children:Object(T.jsx)(Oe.a,{value:1,onChange:function(e){s(e.target.value)},children:"Date"})}),1===r?Object(T.jsx)(xe.a,{onChange:o,format:"DD/MM/YYYY"}):Object(T.jsx)(fe.a,{min:1905,max:2255,onChange:o}),Object(T.jsx)(K.a,{orientation:"center",children:"Select Plasma Properties"}),Object(T.jsx)(ge.a,{defaultChecked:!0,onChange:a,value:e.setShowGraphs})," ","Show Graphs"," ",Object(T.jsx)(ge.a,{defaultChecked:!0,onChange:a,value:e.setShowGraphs})," ","Show Weekly data",Object(T.jsx)("br",{}),Object(T.jsx)(me.a.Group,{options:ve,defaultValue:["velocity","temp","density"],onChange:a}),Object(T.jsx)("br",{})]})},Se=I.a.Panel;var Ce,ke,we,Fe=function(e){var t=Object(i.useState)({}),a=Object(O.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)([]),s=Object(O.a)(r,2),o=s[0],l=s[1],j=Object(i.useState)({}),d=Object(O.a)(j,2),u=d[0],p=d[1],x=Object(i.useState)({}),f=Object(O.a)(x,2),g=f[0],v=f[1],y=Object(i.useState)(""),S=Object(O.a)(y,2),C=S[0],k=S[1],w=Object(i.useState)(!1),F=Object(O.a)(w,2),z=F[0],M=F[1],D=Object(i.useState)(!0),E=Object(O.a)(D,2),A=E[0],W=E[1],G=Object(i.useState)(0),P=Object(O.a)(G,2),N=P[0],K=P[1];Object(i.useEffect)((function(){var t="";e.utterances.forEach((function(e){t=t+"+"+B()(e.text,{impliedHundreds:!0}).toString().split(" ").join("")})),console.log(t),k(t)}),[e,e.utterances]);var L="swasti-framework.azurewebsites.net",_=function(){var e=Object(h.a)(b.a.mark((function e(){var t,a,n,r,s,i,o,j,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(L,"/avgvelocity/?text=").concat(C),e.next=3,fetch("https://"+t);case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,c(n),M(!0),e.next=11,fetch("https://".concat(L,"/get_obs?param=").concat(C));case 11:return r=e.sent,e.next=14,r.json();case 14:return s=e.sent,console.log(s),p(s),e.next=19,fetch("https://".concat(L,"/weekly_outline?param=").concat(C));case 19:return i=e.sent,e.next=22,i.json();case 22:return o=e.sent,l(o.data),e.next=26,fetch("https://".concat(L,"/weekly_detailed?param=").concat(C));case 26:return j=e.sent,e.next=29,j.json();case 29:d=e.sent,console.log(d.data),v(d.data);case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(V.b,{direction:"vertical",size:"middle",style:{display:"flex",textAlign:"center"},className:"panel",children:[Object(T.jsx)("h4",{children:"OR"}),Object(T.jsx)(I.a,{defaultActiveKey:["0"],children:Object(T.jsx)(Se,{header:"Manual Input",children:Object(T.jsx)(ye,{manualInp:function(e){e&&k(e.split("/").join("+"))},showGraphs:A,setShowGraphs:W})},"1")}),Object(T.jsxs)(V.b,{size:"small",children:[Object(T.jsx)(m.a,{type:"primary",onClick:function(){return _()},children:"Get Graphs"}),Object(T.jsx)(m.a,{icon:Object(T.jsx)(R.a,{}),type:"primary",danger:!0,onClick:e.clearVoice,color:"#1E3388",children:"Clear"})]}),Object(T.jsx)(he,{graphs:n,show:z,graphdata:u,weekly:o,setCurr:function(e){K(e||0),p({density:g[e][2],temp:g[e][1],velocity:g[e][0],dst:g[e][3]})},curr:N})]})},ze=f.a.div(Ce||(Ce=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  margin: 1rem auto;\n"]))),Me=f.a.div(ke||(ke=Object(x.a)(["\n  width: 100%;\n  margin: 1rem auto;\n  border: 1px solid #aaaaaa;\n  padding: 1rem;\n  resize: vertical;\n  overflow: auto;\n  \n"]))),De=f.a.span(we||(we=Object(x.a)(["\n  color: ",";\n  white-space: normal;\n"])),(function(e){var t=e.confidence,a=Math.max(255*(1-t)-20,0);return"rgb(".concat(a,",").concat(a,",").concat(a,")")})),Ee=function(){var e=Object(i.useState)([]),t=Object(O.a)(e,2),a=t[0],n=t[1],c=Object(i.useState)(""),r=Object(O.a)(c,2),s=r[0],o=r[1],l=Object(i.useState)(),j=Object(O.a)(l,2),d=j[0],u=j[1],x=Object(i.useState)(),f=Object(O.a)(x,2),m=f[0],v=f[1],y=Object(i.useState)(!1),S=Object(O.a)(y,2),C=S[0],k=S[1],w=Object(i.useState)(!1),F=Object(O.a)(w,2),z=F[0],M=F[1],D=function(){var e=Object(h.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),null===d||void 0===d||d.model.terminate(),e.next=4,Object(g.createModel)("/models/"+t);case 4:a=e.sent,u({model:a,path:t}),(c=new a.KaldiRecognizer(48e3)).setWords(!0),c.on("result",(function(e){var t=e.result;n((function(e){return[].concat(Object(p.a)(e),[t])}))})),c.on("partialresult",(function(e){o(e.result.partial)})),v((function(){return k(!1),M(!0),c}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(i.Fragment,{children:[Object(T.jsx)(P,{onModelChange:function(e){return M((null===d||void 0===d?void 0:d.path)===e)},onModelSelect:function(e){(null===d||void 0===d?void 0:d.path)!==e&&D(e)},loading:C}),Object(T.jsx)(ze,{children:Object(T.jsx)(A,{recognizer:m,loading:C,ready:z})}),Object(T.jsxs)(Me,{children:[a.map((function(e,t){var a;return null===e||void 0===e||null===(a=e.result)||void 0===a?void 0:a.map((function(e,a){return Object(T.jsxs)(De,{confidence:e.conf,title:"Confidence: ".concat((100*e.conf).toFixed(2),"%"),children:[e.word," "]},"".concat(t,"-").concat(a))}))})),Object(T.jsx)("span",{children:s},"partial")]}),Object(T.jsx)(Fe,{utterances:a,clearVoice:function(){n((function(e){return[]}))}})]})},Te=(j.a.Header,j.a.Content),Ae=j.a.Footer,We=function(e){var t=new Date,a=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]+"  "+t.getDay()+", "+t.getFullYear();return Object(T.jsxs)(j.a,{className:"layout",children:[Object(T.jsx)(d.a,{ghost:!1,className:"site-page-header",title:Object(T.jsxs)("span",{children:[Object(T.jsxs)("span",{style:{fontSize:"25px",color:"white",paddingBottom:"0",marginBottom:"0"},children:["SWASTi Framework"," "]}),Object(T.jsx)("span",{style:{color:"#d9d9d9",fontSize:"15px"},children:"for space weather prediction"})]}),extra:[Object(T.jsxs)("div",{style:{textAlign:"right",color:"white",padding:"0px",margin:"0px"},children:[Object(T.jsx)("span",{style:{fontSize:"20px"},children:["Sunday","Monday","Tuesday","Wednesday","Thursdsay","Friday","Saturday"][t.getDay()]}),Object(T.jsx)("h5",{style:{color:"white"},children:a})]})]}),Object(T.jsx)(j.a,{children:Object(T.jsxs)(Te,{style:{padding:"0 50px"},children:[Object(T.jsx)("br",{}),Object(T.jsx)("div",{className:"site-layout-content",children:Object(T.jsx)(Ee,{})})]})}),Object(T.jsx)(Ae,{style:{textAlign:"center"},children:"Footnote \xa92022 Footnote"})]})};l.a.render(Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(We,{})}),document.getElementById("root"))}},[[376,1,2]]]);
//# sourceMappingURL=main.85850756.chunk.js.map